{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog-setup/","result":{"data":{"site":{"siteMetadata":{"title":"Tech Notes and few other stuff"}},"markdownRemark":{"id":"aa15d29d-03bd-58b1-93fa-4101a62e5bfb","excerpt":"This blog is created using Gatsby and \nhosted in GitHub Pages. This blog is built and \ndeployed using circleci. The source code is present in \nGitHub. Steps to…","html":"<p>This blog is created using <a href=\"https://www.gatsbyjs.org/\">Gatsby</a> and\nhosted in <a href=\"https://pages.github.com/\">GitHub Pages</a>. This blog is built and\ndeployed using <a href=\"https://circleci.com/\">circleci</a>. The source code is present in\n<a href=\"https://github.com/\">GitHub</a>.</p>\n<p><strong>Steps to set up a blog like this:</strong></p>\n<p>Login to you GitHub account</p>\n<p>Create a repository, repository name should be username.github.io\nIn my case, it was deepaannjohn.github.io</p>\n<p>Clone the project and create an index.html file in the root folder.\nWrite ‘Hello World’ in index.html file.\nPush the changes to master.\nFire up a browser and go to <a href=\"https://username.github.io\">https://username.github.io</a>\nYour static web page has loaded and shows Hello World.</p>\n<p>GitHub Pages has hosted your html file for you. So whatever you have in this\nrepo will be hosted for you by GitHub. It will host / publish only from the master\nbranch.</p>\n<p>I used Gatsby to build my blog. Gatsby is a blazing fast modern site generator.\nSo, I have the Gatsby project in another branch of the same repo.</p>\n<p>So, now, create another branch ‘dev’.</p>\n<p>Create a Gatsby project in the dev branch. To do that,\nInstall gatsby-cli first.\nThen generate the site using the command ‘gatsby new gatsby-site’\nThen, ‘cd gatsby-site’\nAnd ‘gatsby build’\nMore info here <a href=\"https://www.gatsbyjs.org/docs/quick-start/\">gatsby quick start</a></p>\n<p>This will create a ‘public’ folder in the gatsby project’s root directory. This is the\nstatic site which we need to host in github pages master branch. </p>\n<p>We will use circleci to build the Gatsby project for every commit to the ‘dev’\nbranch then deploy the contents of the public folder to the master branch. Once it’s\nin master branch, GitHub pages will publish it for us.</p>\n<p>To set up circleci, login to circleci using your github account. The entire git repo is accessible\nin circleci. Click on the option to ‘Set up’ the project. Select the right options (os and language).\ncircleci will generate a config.yml file for us. This config.yml file should be present in the root\nfolder of the gatsby project in ‘dev’ branch. </p>\n<p>In the gatsby project (dev branch), create a folder, .circleci and paste this ocnfig.yml file over there.\nThis file is only a template and it should be edited so that eveytime you commit to the dev branch,\ncircleci with use this config.yml file to build and deploy your project.</p>\n<p>My config.yml file is available in the dev branch once you clone it.\n<a href=\"https://github.com/deepaannjohn/deepaannjohn.github.io\">https://github.com/deepaannjohn/deepaannjohn.github.io</a></p>\n<p>Now circleci, automatically creates an ssh key when you set up the project. But this will not have access to\ncommit to the master. So I generated a user key from the settings of my project in circleci, which gives\ncommit access to master branch of my project.</p>","frontmatter":{"title":"Set up a website using github pages and circleci","date":"January 17, 2020","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/blog-setup/","previous":{"fields":{"slug":"/rtc/"},"frontmatter":{"title":"Integrating with IBM RTC from NodeJS"}},"next":{"fields":{"slug":"/upgrade-node-js/"},"frontmatter":{"title":"Upgrade nodejs from V8 to V12"}}}}}